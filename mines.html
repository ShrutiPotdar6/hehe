<!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'>
<title>Minesweeper</title>
<style>html,body{height:100%;margin:0;display:grid;place-items:center;background:#f1f5f9;font-family:system-ui}
#g{display:grid;grid-template-columns:repeat(8,36px);gap:6px}
button{width:36px;height:36px;border:1px solid #cbd5e1;border-radius:6px;background:#e2e8f0;cursor:pointer;font-weight:700;color:#0f172a}
#h{position:fixed;top:6px;left:8px;font:14px system-ui;color:#0f172a}</style></head><body>
<div id="h">Left click: reveal â€¢ Right click: flag â€¢ R: restart</div>
<div id="g"></div>
<script>
const W=8,H=8,M=10;const g=document.getElementById('g');let grid=[...Array(H)].map(()=>Array(W).fill(0)),open=[...Array(H)].map(()=>Array(W).fill(false)),mine=[...Array(H)].map(()=>Array(W).fill(false));
function rnd(n){return Math.floor(Math.random()*n)};let placed=0;while(placed<M){let x=rnd(W),y=rnd(H); if(!mine[y][x]){mine[y][x]=true;placed++;}}
for(let y=0;y<H;y++)for(let x=0;x<W;x++){if(mine[y][x])continue;let c=0;for(let dy=-1;dy<=1;dy++)for(let dx=-1;dx<=1;dx++){let nx=x+dx,ny=y+dy;if(nx>=0&&nx<W&&ny>=0&&ny<H&&mine[ny][nx])c++;}grid[y][x]=c;}
function draw(){g.innerHTML='';for(let y=0;y<H;y++){for(let x=0;x<W;x++){const b=document.createElement('button');b.oncontextmenu=(e)=>{e.preventDefault();b.textContent=b.textContent==='ðŸš©'?'':''};b.onclick=()=>reveal(x,y,b); if(open[y][x]){b.style.background='#fff';b.style.borderColor='#94a3b8';b.textContent=mine[y][x]?'ðŸ’¥':(grid[y][x]||'');} g.appendChild(b);}}}
function reveal(x,y){if(open[y][x])return;open[y][x]=true;if(mine[y][x]){alert('Boom!');location.reload();return;} if(grid[y][x]===0){for(let dy=-1;dy<=1;dy++)for(let dx=-1;dx<=1;dx++){let nx=x+dx,ny=y+dy;if(nx>=0&&nx<W&&ny>=0&&ny<H)reveal(nx,ny);} } draw(); if(checkWin()) {alert('You win!');location.reload();}}
function checkWin(){for(let y=0;y<H;y++)for(let x=0;x<W;x++)if(!mine[y][x]&&!open[y][x])return false;return true;}
addEventListener('keydown',e=>{if(e.key==='r'||e.key==='R')location.reload();});
draw();
</script></body></html>